{% load i18n %}

<div
  data-container
  class="relative inline-block"
  @click.outside="openContext = false"
  @scroll.window="openContext = false"
  x-data="{openContext: false}"
>
  <c-btns.icon
    hx-post="{{ obj.get_contextmenu_path }}"
    hx-target="next ul"
    hx-swap="innerHTML"
    hx-indicator="#no-content"
    @click="openContext = true; setOffsetContextMenu($event)"
    role="button"
    :class="openContext && '!bg-neutral-300 dark:!bg-neutral-700'"
  >
    <div class="size-4 flex items-center justify-center">...</div>
  </c-btns.icon>

  <ul
    role="menu" x-cloak class="contextmenu" x-show="openContext"
    x-transition:enter="transition ease-linear duration-100"
    x-transition:enter-start="-translate-y-1 opacity-90"
    x-transition:enter-end="translate-y-0 opacity-100">
    <span class="p-4 capitalize">{% translate 'loading' %}</span>
  </ul>
</div>
