{% load i18n %}
<!-- ring-1 dark:ring-neutral-800 -->
<header
  x-data="{ atTop: false }"
  class="sticky top-4 left-0 md:mx-auto ~p-2/4 shadow-md rounded-lg dark:bg-neutral-900 duration-150 bg-white dark:shadow-none z-40 mx-auto"
  :class="atTop && 'bg-opacity-50 backdrop-blur-md ring-1 dark:ring-neutral-800 ring-neutral-200'"
  @scroll.window="atTop = (window.pageYOffset < 20) ? false: true"
>
  <nav class="flex items-center justify-between">

    <ul class="flex items-center justify-between gap-2">

      <li>
        <span class="lg:hidden">
          <c-btns.icon 
          role="button" 
          @click="asideOpen = true" 
          title="{% translate 'menu'|title %}">
            <c-icons.bars ratio="1.25rem" />
          </c-btns.icon>
        </span>
      </li>

      <li>
          <c-btns.icon 
          datatype="href"
          href="{{ request.META.HTTP_REFERER }}"
          role="button" 
          title="{% translate 'back'|title %}">
            <c-icons.arrow-back ratio="1.25rem" />
          </c-btns.icon>
      </li>

      <li>
        <span id="messages-spinner" class="hidden hx-request:block animate-spin">
          <c-btns.icon>
            <c-icons.reset ratio="1.25rem" />
          </c-btns.icon>
        </span>
      </li>

    </ul>

    <div class="hidden lg:block">
      <c-layout.breadcrumb />
    </div>

    <c-context.user />
  </nav>

  {{ slot }}
</header>
